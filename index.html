<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    -->

    <link rel="stylesheet" href="./assets/css/bootstrap.min.css">
    <script src="assets/js/require.js" data-main="assets/filtercontroller"></script>

    <!--
    <script src="./assets/js/jquery.min.js"></script>
    <script src="./assets/js/bootstrap.min.js"></script>
    -->


    <style>
        /* Style the input field */
        #myInput {
            padding: 20px;
            margin-top: -6px;
            border: 0;
            border-radius: 0;
            background: #f1f1f1;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Filterable Dropdown</h2>
    <p>Open the dropdown menu and type something in the input field to search for dropdown items:</p>
    <p>Note that we have styled the input field to fit the dropdown items.</p>
    <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Dropdown Example
            <span class="caret"></span></button>
        <ul id="filter_menu_items" class="dropdown-menu">
            <input class="form-control" id="myInput" type="text" placeholder="Search..">
<!--
            <li><a href="#">HTML</a></li>
            <li><a href="#">CSS</a></li>
            <li><a href="#">JavaScript</a></li>
            <li><a href="#">jQuery</a></li>
            <li><a href="#">Bootstrap</a></li>
            <li><a href="#">Angular</a></li>
-->
        </ul>
    </div>
</div>

<div class="container">
    <h2>Basic Table</h2>
    <p>The .table class adds basic styling (light padding and only horizontal dividers) to a table:</p>
    <table id="table2filter" class="table">
        <thead>
        <tr>
            <th>Firstname</th>
            <th>Lastname</th>
            <th>Email</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>John</td>
            <td>Doe</td>
            <td>john@example.com</td>
        </tr>
        <tr>
            <td>Mary</td>
            <td>Moe</td>
            <td>mary@example.com</td>
        </tr>
        <tr>
            <td>July</td>
            <td>Dooley</td>
            <td>july@example.com</td>
        </tr>
        </tbody>
    </table>
</div>


<!--
<script>
    $(document).ready(function(){
        $("#myInput").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $(".dropdown-menu li").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });

        $("#filter_menu_items").each(function (filtermenuindex, filterMenu) {
            $("#table2filter > tbody > tr").each(function (index, tableElement) {
                $.extend(tableElement, {
                    wholeText: function () {
                        let result = '';
                        $(this).find("td").each(function (elindex, el) {
                            let str = el.innerHTML.toString();
                            result += " " + str;
                        });
                        return result.trim();
                    }
                });

                $(filterMenu).append(function () {
                    return $("<li><a href=\"#\">" + tableElement.wholeText() + "</a></li>").click(function () {
                        let filterMenuElSelected = $(this).get(0);
                        $("#table2filter > tbody > tr").each(function (index, tableElement) {
                            let bEq = (tableElement.wholeText() ===  filterMenuElSelected.innerText);

                            if (bEq)
                                $(tableElement).show();
                            else
                                $(tableElement).hide();
                            // console.log('on click ' + filterMenuElSelected.innerText);
                        })
                    });
                });

                console.log('111');
            });

            $(filterMenu).append(function () {
                return $("<li class='divider'></li>");
            });

            $(filterMenu).append(function () {
                return $("<li><a href=\"#\"> All </a></li>").click(function () {
                    let filterMenuElSelected = $(this).get(0);
                    $("#table2filter > tbody > tr").each(function (index, tableElement) {
                        $(tableElement).show();
                    })
                })
            });
        });
    });
</script>
-->

</body>
</html>
